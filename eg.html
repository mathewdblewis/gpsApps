<!-- 
NOTE: altitude works in firefox but not in chromium or brave
alt is in meters, lon and lat in degrees
 -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPS Position Tracking</title>
</head>
<body>
    <h1>GPS Position Tracking</h1>
    <ul id="positionList"></ul>

    <script>
        const positionList = document.getElementById('positionList');

        function showPosition(position) {
            time = (new Date()).getTime()/1000
            const lat = position.coords.latitude
            const lon = position.coords.longitude
            const alt = position.coords.altitude
            // Create a new list item to display the position
            const listItem = document.createElement('li');
            listItem.textContent = `lat: ${lat}, lon: ${lon}, alt: ${alt}, time: ${time}`;

            // Add the new position to the list
            positionList.appendChild(listItem);
        }

        function showError(error) {
            console.error('Error getting location:', error.message);
        }

        function updatePosition() {
            navigator.geolocation.getCurrentPosition(showPosition, showError);
        }

        // Update the position every second (1000 milliseconds)
        const intervalId = setInterval(updatePosition, 1000);

        // Stop updating after 30 seconds (for example)
        setTimeout(() => {clearInterval(intervalId);}, 30*1000);
    </script>
</body>
</html>

